{% import "components/buttons.njk" as elButton %}
{% import "components/modal.njk" as elModal %}
{% import "components/forms.njk" as elForm %}
<section x-data="{ services : false }" class="pt-20">
    <div class="relative flex items-center justify-end h-16 mt-16 rounded-r-full max-w-1/2 bg-gradient-to-r from-medium-purple to-seance">
        <span class="absolute border-2 rounded-r-full -z-10 -bottom-2 -left-1 inset-2 "></span>
        <p class="pl-5 pr-9">Услуги</p>
    </div>
    <div class="swiper-scrollbar">
        <div class="w-full swiper-scrollbar-drag"></div>
    </div>
    <div class="px-5 swiper swiper-service md:p-0">
        <div class="swiper-wrapper md:grid">
            {% for item in service.services %}
                <div class="swiper-slide">
                    <div class="grid md:max-w-[800px] max-w-[310px] sm:gap-y-1 md:gap-y-5 md:grid-cols-a1 gap-x-12 mx-auto md:p-5 m-7 bg-gradient-to-b from-medium-purple-2 to-seance-2 rounded-3xl">
                        <p class="md:hidden text-lg text-center font-bold pt-[29px] pb-[10px]">
                            {{ item.title }}
                        </p>
                        <div class="w-full mx-auto">
                            <div class="grid w-[300px] h-[220px] ">
                                <img src="/images/image/{{ item.img }}" alt="человекозаврик">
                            </div>
                            <div class="relative mx-auto w-max">
                                <div class=" relative  bg-bright-sun py-[10px] px-[16px] w-max rounded-[50px] not-italic font-semibold text-black z-[1] my-4 ">
                                    <p>
                                    от {{ item.price }} руб
                                    </p>
                                </div>
                                <div class="h-[3px] bg-white w-[150%] absolute -left-1/4 top-1/2 z-[1]rounded-[3px]"></div>
                            </div>
                        </div>
                        <div>
                            <div class="hidden md:block">
                                <p class="text-[20px] font-bold pt-[20px]">
                                    {{ item.title }}
                                </p>
                            </div>
                            <ul class="grid pt-1 pl-1 text-lg font-semibold gap-y-6">
                                {% for subitem in item.serviceText %}
                                    <li class="{% if loop.index === 1 %} pr-[20%] md:pr-0 md:pl-0 max-w-max lg:p-0 pl-[20%] md:text-left lg:text-left text-center {% else %} hidden md:block {% endif %}">
                                        {{ subitem.text }}
                                    </li>
                                {% endfor %}
                            </ul>
                            {# TODO: Defoult bleat, default pravilno #}
                            {{ elButton.buttonDefoult
                                (
                                    alpine = true,
                                    alpineObjectName = "bodyLock = true, services = true",
                                    white = true,
                                    class = "p-3",
                                    buttonText = "Подробнее"
                                ) 
                            }}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    {% call elModal.modal("services") %}
        <div class="container relative p-5 mx-auto">
            {{ elForm.briefForm() }}
        </div>
    {% endcall %}
</section>
